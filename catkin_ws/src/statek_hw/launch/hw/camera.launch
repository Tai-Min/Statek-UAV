<?xml version="1.0" encoding="UTF-8"?>
<launch>
    <arg name="statek_name" default="$(eval open(find('statek_config') + '/name').read())"/>

    <!-- Launch camera driver -->
    <group ns="$(arg statek_name)/stereo/">
        <node name="vision_node" pkg="statek_hw" type="vision_publisher_node" output="screen" respawn="true">
            <param name="statek_name" value="$(arg statek_name)"/>
            <rosparam command="load" ns="$(arg statek_name)/camera_config/" file="$(find statek_config)/yaml/camera_config.yaml"/>
            <rosparam command="load" ns="$(arg statek_name)/camera_info_left/" file="$(find statek_config)/yaml/camera_info_left.yaml"/>
            <rosparam command="load" ns="$(arg statek_name)/camera_info_right/" file="$(find statek_config)/yaml/camera_info_right.yaml"/>
        </node>
    </group>

</launch>
