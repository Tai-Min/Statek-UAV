<?xml version="1.0" encoding="UTF-8"?>
<launch>
    <arg name="statek_name" default="statek"/>

    <!-- Launch static transform publisher -->
    <include file="$(find statek_tf)/launch/transform_publishers.launch">
        <arg name="statek_name" value="$(arg statek_name)"/>
    </include>

    <group ns="$(arg statek_name)/stereo/">
        <!-- Launch camera driver -->
        <node name="vision_node" pkg="statek_hw" type="vision_publisher_node" output="screen" respawn="false">
            <param name="statek_name" value="$(arg statek_name)"/>
            <rosparam command="load" ns="$(arg statek_name)/camera_config/" file="$(find statek_config)/yaml/camera_config.yaml"/>
            <rosparam command="load" ns="$(arg statek_name)/camera_info_left/" file="$(find statek_config)/yaml/camera_info_left.yaml"/>
            <rosparam command="load" ns="$(arg statek_name)/camera_info_right/" file="$(find statek_config)/yaml/camera_info_right.yaml"/>
        </node>
    </group>

</launch>
