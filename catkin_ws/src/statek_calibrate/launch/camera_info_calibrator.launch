<?xml version="1.0" encoding="UTF-8"?>
<launch>
    <arg name="statek_name" default="statek"/>
    <arg name="size" default="0.0252"/>

    <!-- Launch camera -->
    <group ns="$(arg statek_name)/">
        <node name="vision_node" pkg="statek_hw" type="vision_publisher_node.py" output="screen" respawn="true">
            <rosparam command="load" ns="$(arg statek_name)/camera_config/" file="$(find statek_config)/yaml/camera_config.yaml"/>
            <rosparam command="load" ns="$(arg statek_name)/camera_info_center/" file="$(find statek_config)/yaml/camera_info_center.yaml"/>
            <rosparam command="load" ns="$(arg statek_name)/camera_info_right/" file="$(find statek_config)/yaml/camera_info_right.yaml"/>
        </node>
    </group>

    <!-- Launch calibration tool -->
    <node name="camera_calibration_node" pkg="camera_calibration" type="cameracalibrator.py" output="screen" respawn="false" args="--approximate 0.1 --size 9x6 --square $(arg size) left:=$(arg statek_name)/camera_center/image_raw right:=$(arg statek_name)/camera_right/image_raw left_camera:=$(arg statek_name)/camera_center/ right_camera:=$(arg statek_name)/camera_right/" />

</launch>
