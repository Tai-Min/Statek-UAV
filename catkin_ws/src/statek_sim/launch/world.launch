<?xml version="1.0" encoding="UTF-8"?>
<launch>
    <arg name="world_name" default=""/>

    <arg name="statek_name" default="$(eval open(find('statek_config') + '/name').read())"/>
    <arg name="statek_x" default="0"/>
    <arg name="statek_y" default="0"/>
    <arg name="statek_z" default="0"/>
    <arg name="statek_R" default="0"/>
    <arg name="statek_P" default="0"/>
    <arg name="statek_Y" default="0"/>

    <!-- Launch world -->
    <include file="$(find gazebo_ros)/launch/empty_world.launch">
        <arg name="world_name" value="$(arg world_name)"/>
        <arg name="paused" value="false"/>
        <arg name="use_sim_time" value="false"/>
        <arg name="gui" value="true"/>
        <arg name="recording" value="false"/>
        <arg name="debug" value="false"/>
        <arg name="verbose" value="true"/>
    </include>

    <!-- Spawn Statek UAV with given name or default one -->
    <include file="$(find statek_sim)/launch/spawn_statek.launch">
        <arg name="statek_name" value="$(arg statek_name)"/>
        <arg name="x" value="$(arg statek_x)"/>
        <arg name="y" value="$(arg statek_y)"/>
        <arg name="z" value="$(arg statek_z)"/>
        <arg name="R" value="$(arg statek_R)"/>
        <arg name="P" value="$(arg statek_P)"/>
        <arg name="Y" value="$(arg statek_Y)"/>
    </include>
</launch>